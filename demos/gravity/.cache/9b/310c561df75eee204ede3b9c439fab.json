{"id":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","dependencies":[{"name":"C:\\Users\\maria\\code\\move_pose-detection\\demos\\gravity\\package.json","includedInParent":true,"mtime":1669629456377},{"name":"C:\\Users\\maria\\code\\move_pose-detection\\demos\\gravity\\.babelrc","includedInParent":true,"mtime":1669629444948},{"name":"../calculators/get_object_scale","loc":{"line":20,"column":33},"parent":"C:\\Users\\maria\\code\\move_pose-detection\\demos\\gravity\\node_modules\\@tensorflow-models\\pose-detection\\shared\\filters\\keypoints_smoothing.js","resolved":"C:\\Users\\maria\\code\\move_pose-detection\\demos\\gravity\\node_modules\\@tensorflow-models\\pose-detection\\shared\\calculators\\get_object_scale.js"},{"name":"../calculators/keypoints_to_normalized_keypoints","loc":{"line":21,"column":50},"parent":"C:\\Users\\maria\\code\\move_pose-detection\\demos\\gravity\\node_modules\\@tensorflow-models\\pose-detection\\shared\\filters\\keypoints_smoothing.js","resolved":"C:\\Users\\maria\\code\\move_pose-detection\\demos\\gravity\\node_modules\\@tensorflow-models\\pose-detection\\shared\\calculators\\keypoints_to_normalized_keypoints.js"},{"name":"../calculators/normalized_keypoints_to_keypoints","loc":{"line":22,"column":50},"parent":"C:\\Users\\maria\\code\\move_pose-detection\\demos\\gravity\\node_modules\\@tensorflow-models\\pose-detection\\shared\\filters\\keypoints_smoothing.js","resolved":"C:\\Users\\maria\\code\\move_pose-detection\\demos\\gravity\\node_modules\\@tensorflow-models\\pose-detection\\shared\\calculators\\normalized_keypoints_to_keypoints.js"},{"name":"./keypoints_one_euro_filter","loc":{"line":23,"column":42},"parent":"C:\\Users\\maria\\code\\move_pose-detection\\demos\\gravity\\node_modules\\@tensorflow-models\\pose-detection\\shared\\filters\\keypoints_smoothing.js","resolved":"C:\\Users\\maria\\code\\move_pose-detection\\demos\\gravity\\node_modules\\@tensorflow-models\\pose-detection\\shared\\filters\\keypoints_one_euro_filter.js"},{"name":"./keypoints_velocity_filter","loc":{"line":24,"column":42},"parent":"C:\\Users\\maria\\code\\move_pose-detection\\demos\\gravity\\node_modules\\@tensorflow-models\\pose-detection\\shared\\filters\\keypoints_smoothing.js","resolved":"C:\\Users\\maria\\code\\move_pose-detection\\demos\\gravity\\node_modules\\@tensorflow-models\\pose-detection\\shared\\filters\\keypoints_velocity_filter.js"}],"generated":{"js":"\"use strict\";\r\n/**\r\n * @license\r\n * Copyright 2021 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\nexports.__esModule = true;\r\nexports.KeypointsSmoothingFilter = void 0;\r\nvar get_object_scale_1 = require(\"../calculators/get_object_scale\");\r\nvar keypoints_to_normalized_keypoints_1 = require(\"../calculators/keypoints_to_normalized_keypoints\");\r\nvar normalized_keypoints_to_keypoints_1 = require(\"../calculators/normalized_keypoints_to_keypoints\");\r\nvar keypoints_one_euro_filter_1 = require(\"./keypoints_one_euro_filter\");\r\nvar keypoints_velocity_filter_1 = require(\"./keypoints_velocity_filter\");\r\n/**\r\n * A Calculator to smooth keypoints over time.\r\n */\r\nvar KeypointsSmoothingFilter = /** @class */ (function () {\r\n    function KeypointsSmoothingFilter(config) {\r\n        if (config.velocityFilter != null) {\r\n            this.keypointsFilter = new keypoints_velocity_filter_1.KeypointsVelocityFilter(config.velocityFilter);\r\n        }\r\n        else if (config.oneEuroFilter != null) {\r\n            this.keypointsFilter = new keypoints_one_euro_filter_1.KeypointsOneEuroFilter(config.oneEuroFilter);\r\n        }\r\n        else {\r\n            throw new Error('Either configure velocityFilter or oneEuroFilter, but got ' +\r\n                \"\".concat(config, \".\"));\r\n        }\r\n    }\r\n    /**\r\n     * Apply one of the stateful `KeypointsFilter` to keypoints.\r\n     *\r\n     * Currently supports `OneEuroFilter` and `VelocityFilter`.\r\n     * @param keypoints A list of 2D or 3D keypoints, can be normalized or\r\n     *     non-normalized.\r\n     * @param timestamp The timestamp of the video frame.\r\n     * @param imageSize Optional. The imageSize is useful when keypoints are\r\n     *     normalized.\r\n     * @param normalized Optional. Whether the keypoints are normalized. Default\r\n     *     to false.\r\n     * @param objectScaleROI Optional. The auxiliary ROI to calculate object\r\n     *     scale. If not set, objectScale defaults to 1.\r\n     */\r\n    KeypointsSmoothingFilter.prototype.apply = function (keypoints, timestamp, imageSize, normalized, objectScaleROI) {\r\n        if (normalized === void 0) { normalized = false; }\r\n        if (keypoints == null) {\r\n            this.keypointsFilter.reset();\r\n            return null;\r\n        }\r\n        var objectScale = objectScaleROI != null ? (0, get_object_scale_1.getObjectScale)(objectScaleROI, imageSize) : 1;\r\n        var scaledKeypoints = normalized ?\r\n            (0, normalized_keypoints_to_keypoints_1.normalizedKeypointsToKeypoints)(keypoints, imageSize) :\r\n            keypoints;\r\n        var scaledKeypointsFiltered = this.keypointsFilter.apply(scaledKeypoints, timestamp, objectScale);\r\n        return normalized ?\r\n            (0, keypoints_to_normalized_keypoints_1.keypointsToNormalizedKeypoints)(scaledKeypointsFiltered, imageSize) :\r\n            scaledKeypointsFiltered;\r\n    };\r\n    return KeypointsSmoothingFilter;\r\n}());\r\nexports.KeypointsSmoothingFilter = KeypointsSmoothingFilter;\r\n"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":59,"column":0},"generated":{"line":59,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":60,"column":0},"generated":{"line":60,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":61,"column":0},"generated":{"line":61,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":62,"column":0},"generated":{"line":62,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":63,"column":0},"generated":{"line":63,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":64,"column":0},"generated":{"line":64,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":65,"column":0},"generated":{"line":65,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":66,"column":0},"generated":{"line":66,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":67,"column":0},"generated":{"line":67,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":68,"column":0},"generated":{"line":68,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":69,"column":0},"generated":{"line":69,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":70,"column":0},"generated":{"line":70,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":71,"column":0},"generated":{"line":71,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":72,"column":0},"generated":{"line":72,"column":0}},{"source":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","original":{"line":73,"column":0},"generated":{"line":73,"column":0}}],"sources":{"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js":"\"use strict\";\r\n/**\r\n * @license\r\n * Copyright 2021 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\nexports.__esModule = true;\r\nexports.KeypointsSmoothingFilter = void 0;\r\nvar get_object_scale_1 = require(\"../calculators/get_object_scale\");\r\nvar keypoints_to_normalized_keypoints_1 = require(\"../calculators/keypoints_to_normalized_keypoints\");\r\nvar normalized_keypoints_to_keypoints_1 = require(\"../calculators/normalized_keypoints_to_keypoints\");\r\nvar keypoints_one_euro_filter_1 = require(\"./keypoints_one_euro_filter\");\r\nvar keypoints_velocity_filter_1 = require(\"./keypoints_velocity_filter\");\r\n/**\r\n * A Calculator to smooth keypoints over time.\r\n */\r\nvar KeypointsSmoothingFilter = /** @class */ (function () {\r\n    function KeypointsSmoothingFilter(config) {\r\n        if (config.velocityFilter != null) {\r\n            this.keypointsFilter = new keypoints_velocity_filter_1.KeypointsVelocityFilter(config.velocityFilter);\r\n        }\r\n        else if (config.oneEuroFilter != null) {\r\n            this.keypointsFilter = new keypoints_one_euro_filter_1.KeypointsOneEuroFilter(config.oneEuroFilter);\r\n        }\r\n        else {\r\n            throw new Error('Either configure velocityFilter or oneEuroFilter, but got ' +\r\n                \"\".concat(config, \".\"));\r\n        }\r\n    }\r\n    /**\r\n     * Apply one of the stateful `KeypointsFilter` to keypoints.\r\n     *\r\n     * Currently supports `OneEuroFilter` and `VelocityFilter`.\r\n     * @param keypoints A list of 2D or 3D keypoints, can be normalized or\r\n     *     non-normalized.\r\n     * @param timestamp The timestamp of the video frame.\r\n     * @param imageSize Optional. The imageSize is useful when keypoints are\r\n     *     normalized.\r\n     * @param normalized Optional. Whether the keypoints are normalized. Default\r\n     *     to false.\r\n     * @param objectScaleROI Optional. The auxiliary ROI to calculate object\r\n     *     scale. If not set, objectScale defaults to 1.\r\n     */\r\n    KeypointsSmoothingFilter.prototype.apply = function (keypoints, timestamp, imageSize, normalized, objectScaleROI) {\r\n        if (normalized === void 0) { normalized = false; }\r\n        if (keypoints == null) {\r\n            this.keypointsFilter.reset();\r\n            return null;\r\n        }\r\n        var objectScale = objectScaleROI != null ? (0, get_object_scale_1.getObjectScale)(objectScaleROI, imageSize) : 1;\r\n        var scaledKeypoints = normalized ?\r\n            (0, normalized_keypoints_to_keypoints_1.normalizedKeypointsToKeypoints)(keypoints, imageSize) :\r\n            keypoints;\r\n        var scaledKeypointsFiltered = this.keypointsFilter.apply(scaledKeypoints, timestamp, objectScale);\r\n        return normalized ?\r\n            (0, keypoints_to_normalized_keypoints_1.keypointsToNormalizedKeypoints)(scaledKeypointsFiltered, imageSize) :\r\n            scaledKeypointsFiltered;\r\n    };\r\n    return KeypointsSmoothingFilter;\r\n}());\r\nexports.KeypointsSmoothingFilter = KeypointsSmoothingFilter;\r\n"},"lineCount":73}},"error":null,"hash":"24a547888103c83472df15acbe54e1b1","cacheData":{"env":{}}}